# The average frequency of each letter of the alphabet, and also the
# space character.

char_freqs = {
    b"a": 0.0651738,
    b"b": 0.0124248,
    b"c": 0.0217339,
    b"d": 0.0349835,
    b"e": 0.1041442,
    b"f": 0.0197881,
    b"g": 0.0158610,
    b"h": 0.0492888,
    b"i": 0.0558094,
    b"j": 0.0009033,
    b"k": 0.0050529,
    b"l": 0.0331490,
    b"m": 0.0202124,
    b"n": 0.0564513,
    b"o": 0.0596302,
    b"p": 0.0137645,
    b"q": 0.0008606,
    b"r": 0.0497563,
    b"s": 0.0515760,
    b"t": 0.0729357,
    b"u": 0.0225134,
    b"v": 0.0082903,
    b"w": 0.0171272,
    b"x": 0.0013692,
    b"y": 0.0145984,
    b"z": 0.0007836,
    b"A": 0.0651738,
    b"B": 0.0124248,
    b"C": 0.0217339,
    b"D": 0.0349835,
    b"E": 0.1041442,
    b"F": 0.0197881,
    b"G": 0.0158610,
    b"H": 0.0492888,
    b"I": 0.0558094,
    b"J": 0.0009033,
    b"K": 0.0050529,
    b"L": 0.0331490,
    b"M": 0.0202124,
    b"N": 0.0564513,
    b"O": 0.0596302,
    b"P": 0.0137645,
    b"Q": 0.0008606,
    b"R": 0.0497563,
    b"S": 0.0515760,
    b"T": 0.0729357,
    b"U": 0.0225134,
    b"V": 0.0082903,
    b"W": 0.0171272,
    b"X": 0.0013692,
    b"Y": 0.0145984,
    b"Z": 0.0007836,
    b" ": 0.1918182,
}


def freq_score(S):
    """Return the character frequency score of a bytes object S."""
    return sum(
        [
            (
                char_freqs[ch.to_bytes(1, "big")]
                if ch.to_bytes(1, "big") in char_freqs
                else 0
            )
            for ch in S
        ]
    )
